package com.spring.controller;

import java.util.HashMap;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.ResponseBody;

import com.spring.service.BoardService;
@Controller
public class BoardController {
	
	
	private static final Logger logger = LoggerFactory.getLogger(BoardController.class);	

@Autowired BoardService b_service;
	
	@RequestMapping(value="/myreview")
	public String myreview() {
		logger.info("후기페이지");
		
		return "myreview";
	}
	
	@RequestMapping(value = "/reviewList")
	public @ResponseBody HashMap<String, Object> reviewList(@RequestParam("shop_idx") String shop_idx)  {
		logger.info("리뷰 리스트 호출");
		logger.info(shop_idx);	
		
		return b_service.reviewList(shop_idx);
	}
	
	@RequestMapping(value = "/reviewWrite")
	public @ResponseBody HashMap<String, Object> reviewWrite(@RequestParam HashMap<String, String>  params)  {
		logger.info(params.get("reviewContent"));
		logger.info(params.get("mem_id"));
		logger.info(params.get("shop_idx"));
		return b_service.reviewWrite(params);
	}
	@RequestMapping(value="/reviewDel")
	public @ResponseBody HashMap<String, Integer> reviewDel(@RequestParam("reviewdel") String del) {
		logger.info("리뷰 삭제 불러오기");
		return b_service.reviewDel(del); 
	}
	@RequestMapping(value="/starRate")
	public String starRate() {
		logger.info("후기페이지");
		
		return "starRate";
	}
	
}
